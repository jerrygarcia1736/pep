<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Reset Password</title>
  <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css' rel='stylesheet'>
</head>
<body class='bg-light'>
  <div class='container py-5' style='max-width:560px;'>
    <div class='card shadow-sm'>
      <div class='card-body p-4'>
        <h1 class='h4 mb-3'>Reset your password</h1>
        <p class='text-muted mb-4'>Choose a new password (8+ characters).</p>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class='alert alert-{{ 'danger' if category == 'error' else category }}'>{{ message }}</div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <form method='post' action='{{ url_for('reset_password', token=token) }}'>
          <div class='mb-3'>
            <label class='form-label'>New password</label>
            <input type='password' name='password' class='form-control' required minlength='8' autocomplete='new-password'>
          </div>
          <div class='mb-3'>
            <label class='form-label'>Confirm password</label>
            <input type='password' name='confirm_password' class='form-control' required minlength='8' autocomplete='new-password'>
          </div>
          <button type='submit' class='btn btn-primary w-100'>Update password</button>
        </form>

        <div class='mt-3 text-center'>
          <a href='{{ url_for('login') }}'>Back to login</a>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
